{% extends "home/base.html" %}
{% load static %}
{% block addon_css %}

<link rel="stylesheet" href="{% static 'home/css/jquery.dataTables.min.css' %}" type="text/css" />

<style type="text/css">

</style>

{% endblock %}
{% block content %}
<div class="row">
  <div class="row">
  </div>
</div>
{% if freq_results1 %}
  <div class="row">
    <h3>Mutant Suggestion 1/2 - removing undesired state contacts</h3>
    <div class="col-md-12" style="font-size:1em;">

      <table width="100%" class="display table-striped compact" id="suglist1">
        <thead>
          <tr>
            <th rowspan=3>Target<br>residue<br>number</th>
            <th rowspan=3>Generic<br>residue<br>number</th>
            <th rowspan=3>Target<br>WT AA</th>
            <th colspan=4>Mutant amino acid<br>(priority: left/hight to right/low)</th>
            <th rowspan=3>Mutation data<br>&#8805;5-fold effect<br>(all)</th>
            <th colspan=3>Sum of residue<br>contact frequencies</th>
          </tr>
          <tr>
            <th rowspan=2>Most<br>conserved<br>in class</th>
            <th rowspan=2>Ala<br>(removes<br>sidechain)</th>
            <th colspan=2>Reversed polarity<br>(repels contact)</th>
            <th rowspan=2>Diff</th>
            <th rowspan=2>Set 1</th>
            <th rowspan=2>Set 2</th>
          </tr>
          <tr>
            <th>#1</th>
            <th>#2</th>
          </tr>
        </thead>
        <tbody>
          {% for entry in freq_results1 %}
          <tr>
            {% for data in entry %}
            <td>{{ data | safe}}</td>
            {% endfor %}
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
  <div class="row">
    <br><br><br><br><br>
  </div>
{% endif %}
{% if freq_results2 %}
  <div class="row">
    <h3>Mutant Suggestions 2/2 - introducing desired state contacts</h3>
    <div class="col-md-12" style="font-size: 1em;">

      <table width="100%" class="table-striped" id="suglist2">
        <thead>
          <tr>
            <th rowspan=3>Target<br>residue<br>number</th>
            <th rowspan=3>Generic<br>residue<br>number</th>
            <th rowspan=3>Target<br>WT AA</th>
            <th colspan=4>Mutant amino acid<br>(priority: left/hight to right/low)</th>
            <th rowspan=3>Mutation data<br>&#8805;5-fold effect<br>(all)</th>
            <th colspan=3>Sum of residue<br>contact frequencies</th>
          </tr>
          <tr>
            <th rowspan=2>Most<br>conserved<br>in class</th>
            <th rowspan=2>Ala<br>(removes<br>sidechain)</th>
            <th colspan=2>Reversed polarity<br>(repels contact)</th>
            <th rowspan=2>Diff</th>
            <th rowspan=2>Set 1</th>
            <th rowspan=2>Set 2</th>
          </tr>
          <tr>
            <th>#1</th>
            <th>#2</th>
          </tr>
        </thead>
        <tbody>
          {% for entry in freq_results2 %}
          <tr>
            {% for data in entry %}
            <td>{{ data | safe}}</td>
            {% endfor %}
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
{% endif %}
{% endblock %}

{% block addon_js %}
<script src="{% static 'home/js/jquery.dataTables.min.js' %}"> </script>


<script type="text/javascript" charset="utf-8">
  var table_options = {"paging":        true,
                        "pageLength":   12,
                        "lengthChange": false,
                        "ordering":     false,
                        "searching":    false,
                      }

  $(document).ready(function() {
    // Init mutations table 1
    if ($("#suglist1").length > 0){
      $("#suglist1").DataTable(table_options);
    }

    // Init mutations table 2
    if ($("#suglist2").length > 0){
      $("#suglist2").DataTable(table_options);
    }
  });
</script>
{% endblock %}
