{% extends "home/base.html" %}
{% load static %}
{% load structure_extras %}

{% block addon_css %}
    <link rel="stylesheet" href="{% static 'home/css/jquery.dataTables.min.css' %}" type="text/css"/>
    <link rel="stylesheet" href="{% static 'home/css/yadcf_bootstrap_version.css' %}" type="text/css"/>
    <link rel="stylesheet" href="{% static 'home/css/select2.css' %}" type="text/css"/>
    <style type="text/css">
        .select2-result-label {
            font-size: x-small;
            font-size: 10px;
        }

        #filters {

            font-size: 10px;
            padding: 7px 15px;
        }

        @media (min-width: 1600px) {
            #content {
                width: 1570px;
            }
        }

        @media (min-width: 1800px) {
            #content {
                width: 1770px;
            }
        }

        table.dataTable.compact thead th.over_header {
            border-right: 1px solid;
            border-left: 0px solid;
            text-align: center;
            padding: 4px 4px 4px 4px;
        }

        table.dataTable.compact thead tr.over_header th {
            border-bottom: 1px solid #ccc;
        }

        table.dataTable.compact thead th.leftborder {
            border-left: 1px solid;
        }

        table.dataTable.compact thead th.rightborder {
            border-right: 1px solid;
        }

        table.dataTable.compact thead th.checkbox_tr {
            text-align: left;
            padding: 4px 4px 4px 4px;
        }

        table.dataTable.compact thead th {
            padding: 4px 16px 4px 2px;
        }

        .yadcf-filter-wrapper {
            margin-top: 0px;
        }

        input.yadcf-filter {
            width: 100px;
            font-family: sans-serif;
            font-size: 100%;
            font-weight: bold;
        }

        .yadcf-filter-range-date, .yadcf-filter-range-number {
            width: 30px;
            font-family: sans-serif;
            font-size: 100%;
            font-weight: bold;
        }

        .clicked_button {
            background-color: rgb(215, 215, 215);
        }

        .wrapper {
            overflow-x: scroll;
            overflow-y: hidden;
        }

        #overlay {
            top: 0px;
            position: absolute;
            background: #f8f8f8;
            /*border: 1px solid #333;*/
            -webkit-box-shadow: 5px 0 2px -2px #888;
            box-shadow: 5px 0 2px -2px #888;
        }

        #overlay tbody tr {
            background-color: #f8f8f8;
        }

        .highlight {
            background-color: rgb(204, 229, 255);
        }

        .dropdown {
            position: relative;
            display: inline-block;
        }

        .dropdown-content {
            display: none;
            position: absolute;
            background-color: #f1f1f1;
            width: 100%;
            box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);
            z-index: 1;
        }

        .dropdown-content p {
            color: black;
            padding: 12px 16px;
            text-decoration: none;
            width: 100%;
            display: block;
        }

        .show {
            display: block;
        }

    </style>
{% endblock %}

{% block addon_js %}
    <script src="{% static 'home/js/jquery.dataTables.min.js' %}"></script>
    <script src="{% static 'home/js/jquery.dataTables.yadcf.js' %}"></script>
    <script src="{% static 'home/js/select2.js' %}"></script>
    <script src="{% static 'home/js/datatables.min.js' %}"></script>
    <script src="{% static 'home/js/signprot-families.js' %}"></script>
    <script src="{% static 'home/js/signprot-subtypes.js' %}"></script>


{% endblock %}

{% block content %}
    <div id="browser">
        <div style="display:block;">
            <div style="display:inline; float:left;">
                <h2 style="width:auto; display:inline;">GPCR G-Protein Couplings</h2>
            </div>
        </div>
        <br>
        <br>


        <!-- scrollable column -->
        <!--<div style='padding-top: 0px; font-size: 10px; white-space: nowrap; width:100%; overflow-y:hidden; display:inline-block; width:100%;'>-->
        <div id="exTab2" class="container">
            <ul class="nav nav-tabs" id="myTab" role="tablist">
                <li class="nav-item">
                    <a class="nav-link active" id="families-tab" data-toggle="tab" href="#families" role="tab"
                       aria-controls="families" aria-selected="true">Families</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="subtypes-tab" data-toggle="tab" href="#subtypes" role="tab"
                       aria-controls="subtypes" aria-selected="false">Subtypes</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="bouvier-tab" data-toggle="tab" href="#bouvier" role="tab"
                       aria-controls="bouvier" aria-selected="false">Bouvier</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="inoue-tab" data-toggle="tab" href="#inoue" role="tab"
                       aria-controls="inoue" aria-selected="false">Inoue</a>
                </li>
            </ul>

            <div class="tab-content" id="myTabContent">

                {# ====================================================================== #}
                {# FAMILIES TAB STARTS HERE id='familiestab' connects to js #}
                {# ====================================================================== #}
                <div class="tab-pane active" id="families" role="tabpanel" aria-labelledby="families-tab">

                    <br>
                    <div style='width:100%; display:inline;'>
                        <div class="btn-group">
                            <a id="dlink" style="display:none;"></a>
                            <div id="excel_table" style2="display:none;"></div>
                            <input class="btn btn-default btn-s" type="button" id="toggle_fixed_btn" value="Disable fixed columns"
                                   href="javascript:void(0)" data-toggle="buttons">
                            <input class="btn btn-default btn-s" type="button" id="toggle_columns_btn" value="Show hidden columns"
                                   href="javascript:void(0)">
                        </div>
                        <div class="btn-group" style='padding-left:10px;'>
                            <input class="btn btn-default btn-s" type="button"
                                   onclick="tableToExcel('familiesDT', 'Families data', 'families_coupling.xls')"
                                   value="Export Excel">
                            <label class="btn btn-default btn-s" id="reset_filters_btn" href="javascript:void(0)">
                                Reset All
                            </label>
                        </div>
                    </div>


                    <table width="100%" class="display compact text-nowrap" id='familiesDT'>
                        <thead>
                        <tr class='over_header over_header_row'>
                            <th colspan=5 class="over_header" style='height:35px; text-align:left;'>
                                RECEPTOR
                            </th>
                            <th colspan=3 class="over_header flexible_over_header" style='text-align:left;'>
                                Gs
                                <button type="button" class="close hide_columns" columns="5,6,7"
                                        style="float:right;display:inline;" aria-label="Close"><span aria-hidden="true">&times;</span>
                                </button>
                            </th>
                            <th colspan=3 class="over_header flexible_over_header" style='text-align:left;'>
                                Gi/o
                                <button type="button" class="close hide_columns" columns="8,9,10"
                                        style="float:right;display:inline;" aria-label="Close"><span aria-hidden="true">&times;</span>
                                </button>
                            </th>
                            <th colspan=3 class="over_header flexible_over_header" style='text-align:left;'>
                                Gq/11
                                <button type="button" class="close hide_columns" columns="11,12,13"
                                        style="float:right;display:inline;" aria-label="Close"><span aria-hidden="true">&times;</span>
                                </button>
                            </th>
                            <th colspan=3 class="over_header flexible_over_header" style='text-align:left;'>
                                G12/13
                                <button type="button" class="close hide_columns" columns="14,15,16"
                                        style="float:right;display:inline;" aria-label="Close"><span aria-hidden="true">&times;</span>
                                </button>
                            </th>
                            <th colspan=1 style='text-align:left;'>
                                Arrestin
                                <button type="button" class="close hide_columns" columns="17" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </th>
                        </tr>
                        <tr>
                            <th class='no-sort checkbox_tr'><input class="select-all" type="checkbox"
                                                                   onclick="select_all(this)"></th>
                            <th title="Class" style='height: 70px;'></th>
                            <th title="Family"></th>
                            <th title="uniprot"></th>
                            <th title="IUPHAR" class='rightborder'></th>
                            <th title="Bouvier"></th>
                            <th title="Inoue"></th>
                            <th title="GtP" class='rightborder'></th>
                            <th title="Bouvier"></th>
                            <th title="Inoue"></th>
                            <th title="GtP" class='rightborder'></th>
                            <th title="Bouvier"></th>
                            <th title="Inoue"></th>
                            <th title="GtP" class='rightborder'></th>
                            <th title="Bouvier"></th>
                            <th title="Inoue"></th>
                            <th title="GtP" class='rightborder'></th>
                            <th title="Bouvier"></th>
                        </tr>

                        </thead>
                        <tbody>
                        {% for p, vals in data.items %}
                            <tr>
                                <td class="text-center"><input class="alt" type="checkbox" id="{{ vals.3 }}"></td>
                                <td class="text-left">{{ vals.0 }}</td>
                                <td class="text-left">{{ vals.1 }}</td>
                                <td class="uniprot">
                                    <span><a href="http://www.uniprot.org/uniprot/{{ vals.2 }}">{{ vals.3 }}</a></span>
                                </td>
                                <td class="text-left">{{ vals.4|safe }}</td>
                                <td class="text-center">{{ vals.pk }}</td>
                                <td class="text-center">{{ vals.17 }}</td>
                                <td class="text-center">{{ vals.9 }}</td>
                                <td class="text-center">{{ vals.pk }}</td>
                                <td class="text-center">{{ vals.19 }}</td>
                                <td class="text-center">{{ vals.10 }}</td>
                                <td class="text-center">{{ vals.pk }}</td>
                                <td class="text-center">{{ vals.23 }}</td>
                                <td class="text-center">{{ vals.11 }}</td>
                                <td class="text-center">{{ vals.pk }}</td>
                                <td class="text-center">{{ vals.11 }}</td>
                                <td class="text-center">{{ vals.26 }}</td>
                                <td class="text-center">{{ vals.11 }}</td>
                            </tr>
                        {% endfor %}
                        </tbody>
                    </table>

                </div>



                {# ====================================================================== #}
                {# SUBTYPES TAB STARTS HERE id='subtypestab' connects to js #}
                {# ====================================================================== #}
                <div class="tab-pane" id="subtypes" role="tabpanel" aria-labelledby="subtypes-tab">



                    <br>
                    <div style='width:100%; display:inline;'>
                        <div class="btn-group">
                            <a id="dlink" style="display:none;"></a>
                            <div id="excel_table" style2="display:none;"></div>
                            <input class="btn btn-default btn-s" type="button" id="toggle_fixed_btn" value="Disable fixed columns"
                                   href="javascript:void(0)" data-toggle="buttons">
                            <input class="btn btn-default btn-s" type="button" id="toggle_columns_btn" value="Show hidden columns"
                                   href="javascript:void(0)">
                        </div>
                        <div class="btn-group" style='padding-left:10px;'>
                            <input class="btn btn-default btn-s" type="button"
                                   onclick="tableToExcel('subtypesDT', 'Suptypes data', 'subtypes_coupling.xls')"
                                   value="Export Excel">
                            <label class="btn btn-default btn-s" id="reset_filters_btn" href="javascript:void(0)">
                                Reset All
                            </label>
                        </div>
                    </div>


                    <table width="100%" class="display compact text-nowrap" id='subtypesDT'>
                        <thead>
                        <tr class='over_header over_header_row'>
                            <th colspan=5 class="over_header" style='height:35px; text-align:left;'>
                                RECEPTOR
                            </th>
                            <th colspan=3 class="over_header flexible_over_header" style='text-align:left;'>
                                Gs
                                <button type="button" class="close hide_columns" columns="5,6,7"
                                        style="float:right;display:inline;" aria-label="Close"><span aria-hidden="true">&times;</span>
                                </button>
                            </th>
                            <th colspan=3 class="over_header flexible_over_header" style='text-align:left;'>
                                Gi/o
                                <button type="button" class="close hide_columns" columns="8,9,10"
                                        style="float:right;display:inline;" aria-label="Close"><span aria-hidden="true">&times;</span>
                                </button>
                            </th>
                            <th colspan=3 class="over_header flexible_over_header" style='text-align:left;'>
                                Gq/11
                                <button type="button" class="close hide_columns" columns="11,12,13"
                                        style="float:right;display:inline;" aria-label="Close"><span aria-hidden="true">&times;</span>
                                </button>
                            </th>
                            <th colspan=3 class="over_header flexible_over_header" style='text-align:left;'>
                                G12/13
                                <button type="button" class="close hide_columns" columns="14,15,16"
                                        style="float:right;display:inline;" aria-label="Close"><span aria-hidden="true">&times;</span>
                                </button>
                            </th>
                            <th colspan=1 style='text-align:left;'>
                                Arrestin
                                <button type="button" class="close hide_columns" columns="17" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </th>
                        </tr>
                        <tr>
                            <th class='no-sort checkbox_tr'><input class="select-all" type="checkbox"
                                                                   onclick="select_all(this)"></th>
                            <th title="Class" style='height: 70px;'></th>
                            <th title="Family"></th>
                            <th title="uniprot"></th>
                            <th title="IUPHAR" class='rightborder'></th>
                            <th title="Bouvier"></th>
                            <th title="Inoue"></th>
                            <th title="GtP" class='rightborder'></th>
                            <th title="Bouvier"></th>
                            <th title="Inoue"></th>
                            <th title="GtP" class='rightborder'></th>
                            <th title="Bouvier"></th>
                            <th title="Inoue"></th>
                            <th title="GtP" class='rightborder'></th>
                            <th title="Bouvier"></th>
                            <th title="Inoue"></th>
                            <th title="GtP" class='rightborder'></th>
                            <th title="Bouvier"></th>
                        </tr>

                        </thead>
                        <tbody>
                        {% for p, vals in data.items %}
                            <tr>
                                <td class="text-center"><input class="alt" type="checkbox" id="{{ vals.3 }}"></td>
                                <td class="text-left">{{ vals.0 }}</td>
                                <td class="text-left">{{ vals.1 }}</td>
                                <td class="uniprot">
                                    <span><a href="http://www.uniprot.org/uniprot/{{ vals.2 }}">{{ vals.3 }}</a></span>
                                </td>
                                <td class="text-left">{{ vals.4|safe }}</td>
                                <td class="text-center">{{ vals.pk }}</td>
                                <td class="text-center">{{ vals.17 }}</td>
                                <td class="text-center">{{ vals.9 }}</td>
                                <td class="text-center">{{ vals.pk }}</td>
                                <td class="text-center">{{ vals.19 }}</td>
                                <td class="text-center">{{ vals.10 }}</td>
                                <td class="text-center">{{ vals.pk }}</td>
                                <td class="text-center">{{ vals.23 }}</td>
                                <td class="text-center">{{ vals.11 }}</td>
                                <td class="text-center">{{ vals.pk }}</td>
                                <td class="text-center">{{ vals.11 }}</td>
                                <td class="text-center">{{ vals.26 }}</td>
                                <td class="text-center">{{ vals.11 }}</td>
                            </tr>
                        {% endfor %}
                        </tbody>
                    </table>



                </div>


                {# ====================================================================== #}
                {# BOUVIER TAB STARTS HERE id='bouviertab' connects to js #}
                {# ====================================================================== #}
                <div class="tab-pane" id="bouvier" role="tabpanel" aria-labelledby="bouvier-tab">
                    <table>
                        <thead>
                        <tr class='over_header over_header_row'>
                            <th colspan=5 class="over_header" style='height:35px; text-align:left;'>
                                RECEPTOR
                            </th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>value here</td>
                        </tr>
                        </tbody>
                    </table>
                </div>



                {# ====================================================================== #}
                {# INOUE TAB STARTS HERE id='inouetab' connects to js #}
                {# ====================================================================== #}
                <div class="tab-pane" id="inoue" role="tabpanel" aria-labelledby="inoue-tab">
                    <table>
                        <thead>
                        <tr class='over_header over_header_row'>
                            <th colspan=5 class="over_header" style='height:35px; text-align:left;'>
                                RECEPTOR
                            </th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>value here</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

    </div>

{% endblock %}


